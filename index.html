<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>word counter</title>
</head>
<body>
    <textarea name="word" id="word"></textarea>
    <div class="sult"></div>
    <script>
        // 불필요한 단어 목록
const excludeWords = ["be", "is", "are", "was", "were", "been", "being", "am", "were", "the", "a", "an"];

// 단어 끝에 ed 제거하는 함수
function removeEd(word) {
  if (word.endsWith("ed")) {
    return word.slice(0, -2);
  }
  return word;
}

// 단어 끝에 ing 제거하는 함수
function removeIng(word) {
  if (word.endsWith("ing")) {
    return word.slice(0, -3);
  }
  return word;
}

// 텍스트의 단어 빈도수 계산 함수
function wordFrequency(text) {
  const words = text
    .toLowerCase()
    .replace(/[^\w\s]/g, "") // 구두점 제거
    .split(/\s+/)             // 공백으로 분리하여 배열 생성
    .map(removeEd)            // 단어 끝에 ed 제거
    .map(removeIng)    // 과거 시제를 현재 시제로 변환
    .filter(word => !excludeWords.includes(word)); // 불필요 단어 제거

  const frequency = {};

  for (const word of words) {
    frequency[word] = (frequency[word] || 0) + 1;
  }

  return frequency;
}

// 사용 예제
const text = "He was excited and completed the work that was started. They were not satisfied.";
console.log(wordFrequency(text));

    </script>
</body>
</html>